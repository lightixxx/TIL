# 신호의 전송과 충돌

## 1계층의 역할과 개요

### 전기.기계적인 전송

1계층의 순서는 송신측에서는 마지막으로 수행하고, 수신측에서는 가장 먼저 수행되는 계층이다. 통신매체에 데이터를 보내는 것과 그 데이터가 지나가는 것에 대한 순서와 규칙이 1계층이 하는 일이다. 통신 매체란 케이블을 말하는데, 이 케이블에 대한 규칙도 1계층에서 정해져 있다. 컴퓨터같은 기기끼리 연결하는 '케이블'과 데이터인 '신호'이 두 가지가 1계층의 범위에 속한다. 즉, **케이블이 연결되어 있는 기기에 신호를 전달하는 것이 1계층의 역할**이고, 이것을 위한 몇 가지의 '규격'과 '규칙'이 정해져 있다.

1계층의 역할을 통해서 수신처에 데이터를 전달할 수 있게 되는 것이다. 반면 2계층부터 상위 계층은 '데이터를 보내기 전에 어떤 것을 할지', '데이터가 도달한 뒤에 어떤 것을 할지'를 결정하게 된다.

### 통신 매체

기기와 기기 사이를 연결해서 **신호가 지나는 '파이프'역할을 하는 것이 통신 매체**이다. 이 통신 매체는 크게 '유선'과 '무선'으로 나눠진다. 유선을 사용하는 것이 일반적인 방식이다. 유선은 케이블을 사용해 신호를 보냄으로써 수신처까지 데이터가 도달하는 방식인데, 이 케이블에는 **전기신호를 사용하는 동선과 광신호를 사용하는 광파이버**가 있다. 둘 다 많이 사용되지만 일반 가정이나 기업에서 보는 것은 동선케이블이다. 동선케이블이라도 **현재 사용되고 있는 것은 UTP(Unshielded Twist Pair cable)**이다. **UTP는 두 개가 한 쌍인 동선 네 쌍으로 이루어져 있는데**, 이 UTP가 현재 일반적으로 LAN에서 사용되는 케이블이다. 광파이버 케이블도 옛날에 비하면 보급되기 시작했지만 아직은 UTP쪽이 압도적으로 많다. UTP가 사용하기 훨씬 편리하기 때문이다. 광파이버는 신호의 안정과 통신속도에서는 뛰어나지만 굽히기가 어려운 반면, UTP는 비교적 굽히기 쉬운 편이라 좁은 곳에 배선하기가 수월하다.

이 케이블에 신호를 보냄으로써 데이터가 전달되는데, 케이블에 신호를 보내고 받는 기계가 인터페이스이다. 네트워크에 사용되는 기기는 사용할 케이블과 케이블에서 사용할 신호에 맞춘 인터페이스가 필요하다. 컴퓨터가 보내고 싶은 데이터를 케이블에 맞는 신호로 변환해서 케이블로 보내고, 케이블에서 보내온 신호를 컴퓨터에서 사용하는 데이터로 변환하는 것이 인터페이스의 역할이다. 컴퓨터에서 사용되는 인터페이스로는 LAN용 케이블에 접속하기 위한 **NIC(Network Interface Card)** 가 일반적이다. 최근의 가정용 PC는 대부분 처음부터 이 NIC가 부착되어 있어서 별도로 붙이는 경우는 거의 없고, WAN의 경우 통상적으로 PC에는 NIC를 부착하지 않고 **DCE(Data Circuit terminating Equipment: 회선종단기기)** 라는 별도의 신호 변환기를 사용한다. LAN의 경우에는 PC에 달려 있는 인터페이스 NIC에서 송신하는 것이고, WAN의 경우는 PC의 인터페이스에서 DCE로 신호를 보내면 DCE가 WAN의 케이블에 맞는 신호로 다시 변환하는 것이다.

> - 1계층의 역할은 케이블이 연결되어 있는 기기에 신호를 전달하는 것이다.
> - 1계층의 역할에 의해 상대에게 데이터가 전달된다.
> - 통신 매체는 유선과 무선이 있고 유선에는 동선 UTP와 광파이버가 있다.

<br />

## 신호와 충돌

### 신호

컴퓨터와 통신 매체를 중개하는 **인터페이스는 비트를 신호로, 신호를 비트로 변환하는 기기**라고 한다. 신호에는 **아날로그 신호와 디지털 신호**가 있다. 아날로그는 '파장', 디지털은'ON과 OFF'로 생각하면 이해하기 쉬운데, 현재 통신에서 사용되는 것은 압도적으로 디지털 신호가 많다. 비트는 '0'이나 '1'로 표현되는데 반면 디지털 신호는 'ON'이나 'OFF'이다. 예를 들어 '0'을 'OFF', '1'을 'ON'이라고 하면 신호 하나로 비트 하나가 되는 것이다. 그래서 비트는 표현하기 쉬운 디지털 신호로 사용되고 있다.

신호의 형태와 전송방법에 따라 **통신속도**가 결정되는 것이다. 통신속도는 일반적으로 **1초 동안 전해지는 비트 수**로 표현되는 경우가 많은데, 단위로 사용되는 것이 **bps(bit per second)** 이다. 예를 들어 인터넷 회선의 스피드가 40메가(10의 6승)이면 40,000,000bps가 되는 것이다. 통신 속도는 신호 한 번에 1초 걸린다고 하면 1초 동안에 1비트 밖에 표현하지 못한다. 그런데 1초에 신호 2번이라면 2비트를 표현할 수 있다. 한 번의 신호로 '0','1' 뿐만 아니라 '00', '01'을 표현할 수 있게 되면 한 번의 신호로 2배인 2비트를 표현할 수 있게 되는 것이다. 한 개의 신호를 되도록 짧게, 또 한 개의 신호로 되도록 많이 표현할 수 있게되면 통신속도는 매우 좋아지겠지만 한계가 있다. 신호가 너무 짧아진다거나 신호 하나로 너무 많은 것을 표현하면 수신자 쪽에서 바르게 식별하지 못할 수도 있고, 신호에 문제가 발생할 수도 있다.

### 신호에 발생하는 문제

신호에 발생하는 문제는 크게 3가지 정도가 있다. 첫째로 **신호의 감쇠**다. 동선에 전기신호를 보내는데 동선에는 저항이 있기 때문에 **긴 케이블을 지나는 동안 신호가 약해지는데** 그렇게 되면 신호의 진폭이 약해져서 못 읽을 수 있다. 그래서 장거리로 운반하는 경우에는 도중에 '약해진 신호를 본래 상태로 되돌리기'위한 '증폭'이라는 처리를 하는 기계를 중간에 설치한다.

두 번째 문제는 **노이즈.간섭**이다. 전기 신호가 어떤 원인에 의해 형태가 무너져버리는데, 그렇게 되면 신호의 진폭을 정확하게 읽을 수 없게 될 가능성이 있다. 예를 들어, 근처에 큰 전원이 있다거나 고온 물체가 옆에 있다거나(열 잡음), 바로 가까이에 신호를 보내는 또 다른 케이블이 있다거나(크로스 토크: 신호누설), 번개나 무선 등 전자파가 발생하는 있다거나 등 이런 노이즈나 간섭의 원인으로부터 케이블을 멀리 두거나 케이블에 특수 가공을 해서 신호가 망가지는 것을 막을 필요가 있다. 이때 사용되는 노이즈 방지 케이블은 케이블에 실드라는 처리를 해서 간섭이나 노이즈를 막는 것이다. 하지만 광파이버에서 사용하는 광신호는 이들 노이즈나 간섭을 받지 않는다. 이런 노이즈나 간섭은 전기적인 요인에서 오는 거라서 빛에 영향을 주지 않기 때문이다.

마지막 문제는 **충돌**인데, 충돌은 말티액세스 네트워크 등에서 일어나는 문제이다. 여기서 일어날 수 있는 문제는 **신호가 보내지고 있는 도중에 다른 신호를 보내는 경우에 발생**한다. A라는 컴퓨터가 신호를 보내고 있을 때 다른 B라는 컴퓨터가 또 다른 신호를 보내는 것이 **충돌(Collision)** 이라고 불리는 현상인데 이 현상이 일어나면 전기신호가 뒤섞여서 신호의 진폭이 붕괴되는 것이다. 이 현상을 막는 방법은 두 가지인데 '신호를 보내는 타이밍을 서로 엇갈리게 하는 방법'과 '신호가 지나는 길을 나누는 방법'이다. 둘 다 2계층과 관련이 있다.

> - 비트를 신호로 바꾸어 케이블에 보냄으로써 상대에게 전한다.
> - 신호의 형태나 전송 방법에 의해 통신속도가 정해진다.
> - 신호는 감쇠, 노이즈.간섭, 충돌 등의 문제가 발생한다.

<br />

## 허브

### 허브의 기능

**허브에 케이블로 연결되어 있는 기기는 동일 케이블에 연결되어 있는 것하고 같은 취급**을 받게된다. 허브의 케이블 삽입구는 포트라고 하는데, 포트의 수는 제품에 따라 4, 6, 8, 16, 32개 등이 있다. 즉, 4개의 포트가 있는 허브라면 4대의 기기를 연결할 수 있기 때문에 케이블을 잘라서 T자 분배기를 넣는 것보다 간단하다.

허브의 첫 번째 기능은 **신호의 증폭과 재생**이다. 허브는 **감쇠에 의해 붕괴된 신호를 본래의 형태로 증폭.재생** 한다. 감쇠로 약해져서 붕괴된 신호가 본래로 돌아오기 때문에 다시 멀리까지 도달하게 될 수 있도록 허브가 그 증폭의 역할을 한다. 증폭만 하는 기계로 **리피터(Reapeater)** 라는 것이 있는데, 리피터는 케이블 사이에 연결하는 기계로 허브처럼 케이블을 많이 연결할 수는 없다. 그래서 일반적으로 케이블을 많이 연결할 수 있는 허브를 사용하는 것이다.

허브의 또 하나의 기능은 **복수의 기기를 연결해서 네트워크를 구축**하는 것이다. 허브에 케이블을 연결함으로써 하나의 케이블에 연결되어 있는 것 과 동일한 취급을 받게 되기 때문에 **허브에 연결되어 있는 기기끼리 신호를 주고받을 수 있게 되는 것**이다. 예를 들어 포트가 32개인 허브가 있는데 컴퓨터가 33대라면 허브와 허브를 연결하는 접속을 하는 것이다. 이것은 연속 접속(cascade connection)이라고 한다. 허브에 연결함으로써 케이블 한 개에 연결되는 것과 같은 취급을 하게 되니까 거기에 다시 허브를 연결하면 그것도 같은 케이블로 연결되는 것이 되는 것이다. 이렇게 허브를 연속 접속해서 큰 네트워크를 만들 수 있게 되는 것이다.

### 충돌 도메인

허브를 중심으로 복수의 컴퓨터가 연결되서 네트워크가 형성되는 건데 여기엔 문제가 있다. **허브는 수신한 신호에 대해 어떤 제어도 하지 않는다**는 점이다. 신호를 증폭하고 재생은 하지만 그 외에는 안한다는 것이다. 허브는 **수신한 포트 이외의 모든 포트에 수신한 신호를 송신**하는데, 이것이 **플러딩(flooding)** 이라는 것이다. 충돌을 생각해보면 허브는 하나의 케이블에 T자 분배기를 넣은 것 같은 개념이기 때문에 **허브에 연결되어 있는 기기가 신호를 보내면 충돌이 일어날 가능성**이 있다는 것이다. 같은 허브에 연결되어 있는 2대의 컴퓨터가 동시에 신호를 보내면 둘 다 같은 케이블에 연결되어 있는 것과 마찬가지이기 때문에 어딘가에 신호가 부딪히게 된다.

이처럼 신호를 송신하면 충돌이 발생할지도 모르는 범위를 **충돌 도메인(Collision Domain)** 이라고 한다. 이 충돌 도메인 내에 있는 컴퓨터가 신호를 송신하면 어딘가에서 충돌이 발생할 가능성이 생기는 것이다. 그래서 **허브로 연결되어 있는 컴퓨터는 같은 충돌 도메인에 있게** 되는 것이다. 충돌이 발생하면 신호가 섞여서 이상해지거나 수신측에서 제대로 읽을 수 없게 된다. 그래서 **충돌을 막아야만 하는데**, 충돌 도메인 내에 컴퓨터가 많으면 '우연히 같은 타이밍'으로 신호를 보낼 가능성이 증가하기 때문에 충돌 가능성도 높아지게 된다. '우연히 같은 타이밍'으로 신호를 보낼 가능성을 줄이기 위해서는 **충돌 도메인은 작아야만 한다**. '충돌 도메인의 범위가 작다'는 것은 '충돌 도메인 내의 컴퓨터 수가 적다'는 것이다. 따라서 '충돌 도메인을 작게할 필요'가 있기 때문에 스위치가 그 일을 하게 된다.

> - 허브는 신호의 증폭과 재생을 수행하고 다수의 컴퓨터를 연결한다.
> - 허브는 신호의 증폭과 재생 이외의 제어는 하지 않으며 플러딩을 한다.
> - 충돌 도메인은 작아야 한다.

<br />
<br />
<br />

##### 출처

- [하루3분 네트워크 교실](http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&ejkGb=KOR&linkClass=&barcode=9788931454727)
